{"version":3,"sources":["shared/HeaderNav.js","shared/header.jpg","shared/Header.js","shared/ErrorAlert.js","utils/api.js","home/MoviesList.js","movie/AverageRating.js","movies/DetailedMovie.js","movies/DetailedMoviesList.js","movie/Details.js","movie/Review.js","movie/ReviewList.js","movie/Theater.js","movie/TheaterList.js","movie/FullMovie.js","theaters/Theater.js","theaters/TheaterList.js","App.js","index.js"],"names":["HeaderNav","_jsxs","className","style","padding","children","_jsx","Link","to","fontStyle","Header","background","concat","headerImage","backgroundPosition","backgroundSize","ErrorAlert","_ref","error","message","API_BASE_URL","process","REACT_APP_API_BASE_URL","headers","Headers","async","fetchJson","url","options","onCancel","response","fetch","status","payload","json","Promise","reject","data","name","console","stack","resolve","populateReviews","signal","movie","movie_id","reviews","listMovies","URL","addReviews","then","movies","all","map","readMovie","movieId","addTheaters","theaters","populateTheaters","append","MoviesList","setMovies","useState","setError","useEffect","abortController","AbortController","catch","abort","list","alt","title","src","image_url","width","averageReviewRating","arguments","length","undefined","total","reduce","sum","review","score","Math","round","AverageRating","DetailedMovie","description","runtime","rating","DetailedMoviesList","Details","runtime_in_minutes","scoreButtonStyle","Review","deleteReview","setReviewScore","critic","preferred_name","surname","organization_name","dangerouslySetInnerHTML","__html","markdown","toHTML","content","onClick","handleIncreaseClick","handleDecreaseClick","ReviewList","sort","leftReview","rightReview","localeCompare","review_id","Theater","theater","address_line_1","address_line_2","city","state","zip","TheaterList","theater_id","FullMovie","useParams","setMovie","loadMovie","reviewId","method","_ref2","log","body","JSON","stringify","updateReview","setTheaters","listTheaters","App","Router","Switch","Route","exact","path","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4b691081.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction HeaderNav() {\n  const style = {\n    padding: \"1rem 0 3rem\",\n  };\n\n  const italic = {\n    fontStyle: \"italic\",\n  };\n\n  return (\n    <ul className=\"nav justify-content-start\" style={style}>\n      <li className=\"nav-item d-none d-lg-block d-xl-block\">\n        <Link className=\"font-poppins-heading nav-link mx-2 text-light\" to=\"/\">\n          <h1 className=\"h5\" style={italic}>\n            WeLoveMovies\n          </h1>\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link mx-2 font-weight-light text-light\"\n          to=\"/movies\"\n        >\n          All Movies\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link mx-2 font-weight-light text-light\"\n          to=\"/theaters\"\n        >\n          All Theaters\n        </Link>\n      </li>\n    </ul>\n  );\n}\n\nexport default HeaderNav;\n","export default __webpack_public_path__ + \"static/media/header.c47d8fe5.jpg\";","import React from \"react\";\nimport HeaderNav from \"./HeaderNav\";\nimport headerImage from \"./header.jpg\";\n\nfunction Header() {\n  const style = {\n    background: `linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.7)), url(${headerImage})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"100% auto\",\n  };\n\n  return (\n    <div\n      className=\"jumbotron jumbotron-fluid text-white border-bottom border-dark pt-0\"\n      style={style}\n    >\n      <HeaderNav />\n      <div className=\"container\">\n        <h1 className=\"display-4\">Find your next favorite movie!</h1>\n        <p className=\"lead\">\n          <em>WeLoveMovies</em> is your source for finding reviews of movies in\n          theatres near you.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\n/**\n * Displays a bootstrap danger alert if the specified error is truthy.\n * @param error\n *  an instance of an object with `.message` property as a string, typically an Error instance.\n * @returns {JSX.Element}\n *  a bootstrap danger alert that contains the message string.\n */\nfunction ErrorAlert({ error }) {\n  return (\n    error && (\n      <div className=\"alert alert-danger m-2\">Error: {error.message}</div>\n    )\n  );\n}\n\nexport default ErrorAlert;\n","const API_BASE_URL =\n  process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\";\n\n/**\n * Defines the default headers for these functions to work with `json-server`\n */\nconst headers = new Headers();\nheaders.append(\"Content-Type\", \"application/json\");\n\n/**\n * Fetch `json` from the specified URL and handle error status codes and ignore `AbortError`s\n *\n * This function is NOT exported because it is not needed outside of this file.\n *\n * @param url\n *  the url for the requst.\n * @param options\n *  any options for fetch\n * @param onCancel\n *  value to return if fetch call is aborted. Default value is undefined.\n * @returns {Promise<Error|any>}\n *  a promise that resolves to the `json` data or an error.\n *  If the response is not in the 200 - 399 range the promise is rejected.\n */\nasync function fetchJson(url, options, onCancel) {\n  try {\n    const response = await fetch(url, options);\n\n    if (response.status === 204) {\n      return null;\n    }\n\n    const payload = await response.json();\n\n    if (payload.error) {\n      return Promise.reject({ message: payload.error });\n    }\n    return payload.data;\n  } catch (error) {\n    if (error.name !== \"AbortError\") {\n      console.error(error.stack);\n      throw error;\n    }\n    return Promise.resolve(onCancel);\n  }\n}\n\nfunction populateReviews(signal) {\n  return async (movie) => {\n    const url = `${API_BASE_URL}/movies/${movie.movie_id}/reviews`;\n    movie.reviews = await fetchJson(url, { headers, signal }, []);\n    return movie;\n  };\n}\n\nfunction populateTheaters(signal) {\n  return async (movie) => {\n    const url = `${API_BASE_URL}/movies/${movie.movie_id}/theaters`;\n    movie.theaters = await fetchJson(url, { headers, signal }, []);\n    return movie;\n  };\n}\n\n/**\n * Retrieves all existing movies and populates the `reviews` property\n * @returns {Promise<[movie]>}\n *  a promise that resolves to a possibly empty array of movies saved in the database.\n */\nexport async function listMovies(signal) {\n  const url = new URL(`${API_BASE_URL}/movies?is_showing=true`);\n  const addReviews = populateReviews(signal);\n  return await fetchJson(url, { headers, signal }, []).then((movies) =>\n    Promise.all(movies.map(addReviews))\n  );\n}\n\n/**\n * Retrieves all existing theaters\n * @returns {Promise<[theater]>}\n *  a promise that resolves to a possibly empty array of theaters saved in the database.\n */\nexport async function listTheaters(signal) {\n  const url = new URL(`${API_BASE_URL}/theaters`);\n  return await fetchJson(url, { headers, signal }, []);\n}\n\n/**\n * Retrieves all existing movies and populates the `reviews` property\n * @returns {Promise<[movie]>}\n *  a promise that resolves to a possibly empty array of movies saved in the database.\n */\nexport async function readMovie(movieId, signal) {\n  const url = new URL(`${API_BASE_URL}/movies/${movieId}`);\n  const addReviews = populateReviews(signal);\n  const addTheaters = populateTheaters(signal);\n  return await fetchJson(url, { headers, signal }, [])\n    .then(addReviews)\n    .then(addTheaters);\n}\n\nexport async function deleteReview(reviewId) {\n  const url = `${API_BASE_URL}/reviews/${reviewId}`;\n  return await fetchJson(url, { method: \"DELETE\", headers }, {});\n}\n\nexport async function updateReview(reviewId, data) {\n  const url = `${API_BASE_URL}/reviews/${reviewId}`;\n  const options = {\n    method: \"PUT\",\n    headers,\n    body: JSON.stringify({ data }),\n  };\n  return await fetchJson(url, options, {});\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listMovies } from \"../utils/api\";\n\nfunction MoviesList() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listMovies(abortController.signal).then(setMovies).catch(setError);\n\n    return () => abortController.abort();\n  }, []);\n\n  const list = movies.map((movie) => (\n    <article key={movie.movie_id} className=\"col-sm-12 col-md-6 col-lg-3 my-2\">\n      <img\n        alt={`${movie.title} Poster`}\n        className=\"rounded\"\n        src={movie.image_url}\n        style={{ width: \"100%\" }}\n      />\n      <Link\n        to={`/movies/${movie.movie_id}`}\n        className=\"stretched-link text-dark\"\n      >\n        <h3 className=\"font-poppins-heading text-center mt-2\">{movie.title}</h3>\n      </Link>\n    </article>\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">Now Showing</h2>\n      <hr />\n      <section className=\"row\">{list}</section>\n    </main>\n  );\n}\n\nexport default MoviesList;\n","import React from \"react\";\n\nfunction averageReviewRating(reviews = []) {\n  if (reviews.length) {\n    const total = reviews.reduce((sum, review) => sum + review.score, 0);\n    return Math.round(total / reviews.length);\n  }\n  return \"N/A\";\n}\n\nfunction AverageRating({ reviews = [] }) {\n  return (\n    <p>\n      <strong>Average Review Rating:</strong> {averageReviewRating(reviews)}\n    </p>\n  );\n}\n\nexport default AverageRating;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AverageRating from \"../movie/AverageRating\";\n\nfunction DetailedMovie({ movie }) {\n  return (\n    <section className=\"row mt-4\">\n      <article className=\"col-sm-12 col-md-6 col-lg-3\">\n        <img\n          alt={`${movie.title} Poster`}\n          className=\"rounded\"\n          src={movie.image_url}\n          style={{ width: \"100%\" }}\n        />\n      </article>\n      <aside className=\"col-sm-12 col-md-6 col-lg-9\">\n        <h3 className=\"font-poppins-heading mb-4\">{movie.title}</h3>\n        <p>{movie.description}</p>\n        <p>\n          <strong>Runtime:</strong> {movie.runtime} minutes\n        </p>\n        <p>\n          <strong>Rating:</strong> {movie.rating}\n        </p>\n        <AverageRating reviews={movie.reviews} />\n        <Link to={`/movies/${movie.movie_id}`} className=\"btn btn-primary\">\n          See More\n        </Link>\n      </aside>\n    </section>\n  );\n}\n\nexport default DetailedMovie;\n","import React, { useEffect, useState } from \"react\";\nimport DetailedMovie from \"./DetailedMovie\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listMovies } from \"../utils/api\";\n\nfunction DetailedMoviesList() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listMovies(abortController.signal).then(setMovies).catch(setError);\n\n    return () => abortController.abort();\n  }, []);\n\n  const list = movies.map((movie) => (\n    <DetailedMovie key={movie.movie_id} movie={movie} />\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">All Movies</h2>\n      <hr />\n      <section>{list}</section>\n    </main>\n  );\n}\n\nexport default DetailedMoviesList;\n","import React from \"react\";\nimport AverageRating from \"./AverageRating\";\n\nfunction Details({ movie }) {\n  return (\n    <section>\n      <h3 className=\"font-poppins-heading mb-4\">{movie.title}</h3>\n      <p>{movie.description}</p>\n      <p>\n        <strong>Runtime:</strong> {movie.runtime_in_minutes} minutes\n      </p>\n      <p>\n        <strong>Rating:</strong> {movie.rating}\n      </p>\n      <AverageRating reviews={movie.reviews} />\n    </section>\n  );\n}\n\nexport default Details;\n","import React from \"react\";\nimport { markdown } from \"markdown\";\n\nconst scoreButtonStyle = {\n  padding: \"0 0px 5px 5px\",\n};\n\nfunction Review({ review, deleteReview, setReviewScore }) {\n  const handleIncreaseClick = () => {\n    const score = review.score + 1;\n    if (score > 5) return;\n    setReviewScore(review, score);\n  };\n\n  const handleDecreaseClick = () => {\n    const score = review.score - 1;\n    if (score < 1) return;\n    setReviewScore(review, score);\n  };\n\n  const { critic } = review;\n\n  return (\n    <section className=\"border p-4 mb-4\">\n      <h4>\n        {critic.preferred_name} {critic.surname}\n        <small> of {critic.organization_name}</small>\n      </h4>\n      <p\n        dangerouslySetInnerHTML={{ __html: markdown.toHTML(review.content) }}\n      />\n      <p>\n        <strong>Rating:</strong> {review.score}\n        <button\n          className=\"btn btn-link\"\n          style={scoreButtonStyle}\n          onClick={() => handleIncreaseClick()}\n        >\n          ↑\n        </button>\n        <button\n          className=\"btn btn-link\"\n          style={scoreButtonStyle}\n          onClick={() => handleDecreaseClick()}\n        >\n          ↓\n        </button>\n      </p>\n\n      <button className=\"btn btn-danger\" onClick={() => deleteReview(review)}>\n        Destroy Review\n      </button>\n    </section>\n  );\n}\n\nexport default Review;\n","import React from \"react\";\nimport Review from \"./Review\";\n\nfunction ReviewList({ reviews = [], deleteReview, setReviewScore }) {\n  if (reviews.length) {\n    const list = reviews\n      .sort((leftReview, rightReview) => {\n        return leftReview.critic.preferred_name.localeCompare(\n          rightReview.critic.preferred_name\n        );\n      })\n      .map((review) => (\n        <Review\n          key={review.review_id}\n          review={review}\n          deleteReview={deleteReview}\n          setReviewScore={setReviewScore}\n        />\n      ));\n\n    return (\n      <section className=\"mt-4\">\n        <h3>Reviews</h3>\n        {list}\n      </section>\n    );\n  }\n  return null;\n}\n\nexport default ReviewList;\n","import React from \"react\";\n\nfunction Theater({ theater }) {\n  return (\n    <article className=\"col-sm-12 col-md\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h5>{theater.name}</h5>\n          <address>\n            {theater.address_line_1}\n            <br />\n            {theater.address_line_2 ? theater.address_line_2 : null}\n            {theater.city}, {theater.state} {theater.zip}\n          </address>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Theater;\n","import React from \"react\";\nimport Theater from \"./Theater\";\n\nfunction TheaterList({ theaters = [] }) {\n  if (theaters.length) {\n    return (\n      <section className=\"mt-4\">\n        <h4>Now Showing Here</h4>\n        <div className=\"row\">\n          {theaters.map((theater) => (\n            <Theater key={theater.theater_id} theater={theater} />\n          ))}\n        </div>\n      </section>\n    );\n  }\n  return null;\n}\n\nexport default TheaterList;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Details from \"./Details\";\nimport ReviewList from \"./ReviewList\";\nimport TheaterList from \"./TheaterList\";\nimport { deleteReview, readMovie, updateReview } from \"../utils/api\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\n\nfunction FullMovie() {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState({});\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadMovie(movieId);\n  }, [movieId]);\n\n  function loadMovie(movieId) {\n    setError(null);\n    const abortController = new AbortController();\n    readMovie(movieId, abortController.signal).then(setMovie).catch(setError);\n    return () => abortController.abort();\n  }\n\n  function deleteReviewHandler({ movie_id: movieId, review_id: reviewId }) {\n    deleteReview(reviewId).then(() => loadMovie(movieId));\n  }\n\n  function updateScoreHandler(\n    { movie_id: movieId, review_id: reviewId },\n    score\n  ) {\n    console.log(\"score\", reviewId, score);\n    updateReview(reviewId, { score }).then(() => loadMovie(movieId));\n  }\n\n  return (\n    <div className=\"container\">\n      <ErrorAlert error={error} />\n      <section className=\"row mt-4\">\n        <article className=\"col-sm-12 col-md-6 col-lg-3\">\n          <img\n            alt={`${movie.title} Poster`}\n            className=\"rounded\"\n            src={movie.image_url}\n            style={{ width: \"100%\" }}\n          />\n        </article>\n        <aside className=\"col-sm-12 col-md-6 col-lg-9\">\n          <Details movie={movie} />\n          <TheaterList theaters={movie.theaters} />\n          <ReviewList\n            reviews={movie.reviews}\n            deleteReview={deleteReviewHandler}\n            setReviewScore={updateScoreHandler}\n          />\n        </aside>\n      </section>\n    </div>\n  );\n}\n\nexport default FullMovie;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Theater({ theater }) {\n  return (\n    <article className=\"col-12 mb-4\">\n      <div className=\"row\">\n        <aside className=\"col\">\n          <h2>{theater.name}</h2>\n          <address>\n            {theater.address_line_1}\n            <br />\n            {theater.address_line_2 ? theater.address_line_2 : null}\n            {theater.city}, {theater.state} {theater.zip}\n          </address>\n        </aside>\n        <section className=\"col\">\n          <div className=\"row\">\n            {theater.movies.map((movie) => (\n              <div key={movie.movie_id} className=\"col-2\">\n                <Link to={`/movies/${movie.movie_id}`}>\n                  <img\n                    alt={`${movie.title} Poster`}\n                    src={movie.image_url}\n                    className=\"w-100\"\n                  />\n                </Link>\n              </div>\n            ))}\n          </div>\n        </section>\n      </div>\n    </article>\n  );\n}\n\nexport default Theater;\n","import React, { useEffect, useState } from \"react\";\nimport Theater from \"./Theater\";\nimport ErrorAlert from \"../shared/ErrorAlert\";\nimport { listTheaters } from \"../utils/api\";\n\nfunction TheaterList() {\n  const [theaters, setTheaters] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n    const abortController = new AbortController();\n    listTheaters(abortController.signal).then(setTheaters).catch(setError);\n    return () => abortController.abort();\n  }, []);\n\n  const list = theaters.map((theater) => (\n    <Theater key={theater.theater_id} theater={theater} />\n  ));\n\n  return (\n    <main className=\"container\">\n      <ErrorAlert error={error} />\n      <h2 className=\"font-poppins\">All Theaters</h2>\n      <hr />\n      <section className=\"row\">{list}</section>\n    </main>\n  );\n}\n\nexport default TheaterList;\n","import Header from \"./shared/Header\";\nimport MoviesList from \"./home/MoviesList\";\nimport DetailedMoviesList from \"./movies/DetailedMoviesList\";\nimport FullMovie from \"./movie/FullMovie\";\nimport TheaterList from \"./theaters/TheaterList\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <MoviesList />\n        </Route>\n        <Route exact path=\"/movies\">\n          <DetailedMoviesList />\n        </Route>\n        <Route exact path=\"/movies/:movieId\">\n          <FullMovie />\n        </Route>\n        <Route exact path=\"/theaters\">\n          <TheaterList />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}